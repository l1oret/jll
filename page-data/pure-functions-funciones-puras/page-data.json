{"componentChunkName":"component---src-templates-blog-post-js","path":"/pure-functions-funciones-puras/","result":{"data":{"site":{"siteMetadata":{"title":"Out of the loop"}},"markdownRemark":{"id":"33428f9e-0f42-551c-9952-66a2b78034b2","excerpt":"O mas bien, el de cuando empecé con la programación funcional sin saber que eran las pure functions, los side-effects o la inmutabilidad. Lo bien cierto, es que…","html":"<p>O mas bien, el de cuando empecé con la programación funcional sin saber que eran las <strong>pure functions</strong>, los side-effects o la inmutabilidad. Lo bien cierto, es que aunque no sabía todo lo necesario, estaba en el camino correcto, ya que la base ya la tenía. Y es que después de haber visto las <a href=\"/first-class-functions-funciones-primera-clase\">first-class functions</a> y las <a href=\"/higher-order-functions-funciones-orden-superior\">higher-order\nfunction</a>, seguir con las <strong>funciones puras</strong> era el paso mas lógico si quería adentrarme en la programación funcional.</p>\n<h2 id=\"¿qué-son-las-funciones-puras\">¿Qué son las funciones puras?</h2>\n<p>Una función pura o pure function, es una función que dada una entrada retornará siempre la misma salida, además no provocará resultados inesperados o efectos colaterales.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">suma</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span> b</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> a <span class=\"token operator\">+</span> b<span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">suma</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// → 4</span></code></pre></div>\n<p>Es decir, escribir <code class=\"language-text\">suma(2, 2)</code> es exactamente igual que escribir <code class=\"language-text\">4</code>, no habría diferencia alguna. Para unos parámetros de entrada concretos, una función pura <strong>siempre devolverá lo mismo</strong>.</p>\n<p>Esto no sucede en absoluto con las funciones impuras.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">let</span> a <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">suma</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">b</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> a <span class=\"token operator\">+=</span> b<span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">suma</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// → 4</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">suma</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// → 6</span></code></pre></div>\n<p>En este caso, vemos que a pesar de que el parámetro de entrada no varía en las dos llamadas a la función <code class=\"language-text\">suma</code> si que lo hace el valor resultante. Esta situación puede provocar resultados inesperados o <strong>side-effects</strong> en las llamadas a la función y generar errores, ya que para calcular el resultado depende de una variable que esta fuera del ámbito de la función.</p>\n<p>Podríamos decir que de una <strong>pure function</strong> siempre podemos esperar <strong>resultados consistentes</strong> ya que dada una entrada nada afectará a la salida obtenida. En el caso de las <strong>impure functions</strong> obtendríamos <strong>resultados inconsistentes</strong> ya que no podemos saber si el resultado obtenido va a sufrir variaciones o no.</p>\n<h3 id=\"side-effects-e-inmutabilidad\">Side-effects e inmutabilidad</h3>\n<p>Todo aquello que puede alterar el resultado de nuestra función y que no es utilizado para calcular la salida, es un <strong>efecto colateral</strong> o <strong>side-effect</strong>. Algunos side-effects son los siguientes:</p>\n<ol>\n<li>Modificar las variables de entrada.</li>\n<li>Llamadas por AJAX o <code class=\"language-text\">fetch</code>.</li>\n<li>Modificar archivos de disco.</li>\n<li><code class=\"language-text\">new Date()</code></li>\n<li>Consultar objetos DOM.</li>\n<li><code class=\"language-text\">console.log()</code>.</li>\n</ol>\n<p>Una función pura es <strong>inmutable</strong> y no alterará el estado de las variables de entrada. Mutar o alterar el estado de una variable de entrada alterará desde ese momento su valor para el resto del código de la aplicación que utilice esa variable, lo cual puede producir bugs y complicar las tareas de debug.</p>\n<p>Un ejemplo de función impura que altera una propiedad de un objeto que puede o no ser compartido por el resto del código.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> entrada <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  titulo<span class=\"token operator\">:</span> <span class=\"token string\">'El de las pure functions o funciones puras'</span><span class=\"token punctuation\">,</span>\n  autor<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    nombre<span class=\"token operator\">:</span> <span class=\"token string\">''</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">guardarAutorEntrada</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">entrada<span class=\"token punctuation\">,</span> nombre</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  entrada<span class=\"token punctuation\">.</span>autor<span class=\"token punctuation\">.</span>nombre <span class=\"token operator\">=</span> nombre<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> entrada\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">guardarAutorEntrada</span><span class=\"token punctuation\">(</span>entrada<span class=\"token punctuation\">,</span> <span class=\"token string\">'@l1oret'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// → { autor: { nombre: '@l1oret' }, titulo: 'El de las pure functions o funciones puras'}</span>\n\nconsoe<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>entrada<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// → { autor: { nombre: '@l1oret' }, titulo: 'El de las pure functions o funciones puras'}</span></code></pre></div>\n<p>Podría convertirse a función pura simplemente creando una copia del objeto de entrada.</p>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> entrada <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  titulo<span class=\"token operator\">:</span> <span class=\"token string\">'El de las pure functions o funciones puras'</span><span class=\"token punctuation\">,</span>\n  autor<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    nombre<span class=\"token operator\">:</span> <span class=\"token string\">''</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">guardarAutorEntrada</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">entrada<span class=\"token punctuation\">,</span> nombre</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token keyword\">const</span> copiaEntrada <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span><span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>entrada<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span>  copiaEntrada<span class=\"token punctuation\">.</span>autor<span class=\"token punctuation\">.</span>nombre <span class=\"token operator\">=</span> nombre<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> copiaEntrada\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">guardarAutorEntrada</span><span class=\"token punctuation\">(</span>entrada<span class=\"token punctuation\">,</span> <span class=\"token string\">'@l1oret'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// → { autor: { nombre: '@l1oret' }, titulo: 'El de las pure functions o funciones puras'}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>entrada<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// → { autor: { nombre: '' }, titulo: 'El de las pure functions o funciones puras'}</span></code></pre></div>\n<p>Ni que decir tiene que debido a lo predecibles que son, misma entrada misma salida, las pure functions son perfectas para realizar tets unitarios.</p>","frontmatter":{"title":"El de las pure functions o funciones puras","date":"02 septiembre, 2020","description":"O mas bien, el de cuando quise aprender programación funcional y no pude porque aun necesitaba saber que eran las pure functions, los side-effects o la inmutabilidad."}}},"pageContext":{"slug":"/pure-functions-funciones-puras/","previous":{"fields":{"slug":"/optional-chaining-operator-operador-ecandenamiento-opcional/"},"frontmatter":{"title":"El del optional chaining operator o operador de encadenamiento opcional"}},"next":{"fields":{"slug":"/hoisting-hoisting/"},"frontmatter":{"title":"El del hoisting o hoisting"}}}},"staticQueryHashes":["240262808","3881471398","845209666"]}